/* Generated by Nimrod Compiler v0.9.3 */
/*   (c) 2012 Andreas Rumpf */
/* The generated code is subject to the original license. */
#define NIM_INTBITS 64
#include "nimbase.h"

#include <time.h>

#include <sys/time.h>

#include <string.h>
typedef struct ttimeinfo86403 ttimeinfo86403;
typedef struct TNimObject TNimObject;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct tkeyvaluepair108606 tkeyvaluepair108606;
typedef struct tcell38448 tcell38448;
typedef struct tcellseq38464 tcellseq38464;
typedef struct tgcheap40416 tgcheap40416;
typedef struct tcellset38460 tcellset38460;
typedef struct tpagedesc38456 tpagedesc38456;
typedef struct tmemregion21810 tmemregion21810;
typedef struct tsmallchunk21038 tsmallchunk21038;
typedef struct tllchunk21804 tllchunk21804;
typedef struct tbigchunk21040 tbigchunk21040;
typedef struct tintset21015 tintset21015;
typedef struct ttrunk21011 ttrunk21011;
typedef struct tavlnode21808 tavlnode21808;
typedef struct tgcstat40414 tgcstat40414;
typedef struct tslice74668 tslice74668;
typedef struct einvalidvalue1053 einvalidvalue1053;
typedef struct esynch1029 esynch1029;
typedef struct E_Base E_Base;
typedef struct tbasechunk21036 tbasechunk21036;
typedef struct tfreecell21028 tfreecell21028;
typedef N_NIMCALL_PTR(void, TY889) (void* p, NI op);
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
TY889 marker;
};
struct TNimObject {
TNimType* m_type;
};
struct TGenericSeq {
NI len;
NI reserved;
};
typedef NIM_CHAR TY611[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY611 data;
};
struct ttimeinfo86403 {
  TNimObject Sup;
NI Second;
NI Minute;
NI Hour;
NI Monthday;
NU8 Month;
NI Year;
NU8 Weekday;
NI Yearday;
NIM_BOOL Isdst;
NimStringDesc* Tzname;
NI Timezone;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
typedef NU8 TY87050[7];
struct tkeyvaluepair108606 {
NimStringDesc* Field0;
NimStringDesc* Field1;
};
struct tcell38448 {
NI Refcount;
TNimType* Typ;
};
struct tcellseq38464 {
NI Len;
NI Cap;
tcell38448** D;
};
struct tcellset38460 {
NI Counter;
NI Max;
tpagedesc38456* Head;
tpagedesc38456** Data;
};
typedef tsmallchunk21038* TY21822[512];
typedef ttrunk21011* ttrunkbuckets21013[256];
struct tintset21015 {
ttrunkbuckets21013 Data;
};
struct tmemregion21810 {
NI Minlargeobj;
NI Maxlargeobj;
TY21822 Freesmallchunks;
tllchunk21804* Llmem;
NI Currmem;
NI Maxmem;
NI Freemem;
NI Lastsize;
tbigchunk21040* Freechunkslist;
tintset21015 Chunkstarts;
tavlnode21808* Root;
tavlnode21808* Deleted;
tavlnode21808* Last;
tavlnode21808* Freeavlnodes;
};
struct tgcstat40414 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
NI64 Maxpause;
};
struct tgcheap40416 {
void* Stackbottom;
NI Cyclethreshold;
tcellseq38464 Zct;
tcellseq38464 Decstack;
tcellset38460 Cycleroots;
tcellseq38464 Tempstack;
NI Recgclock;
tmemregion21810 Region;
tgcstat40414 Stat;
};
struct tslice74668 {
NI A;
NI B;
};
typedef NimStringDesc* TY88228[7];
typedef NimStringDesc* TY88239[12];
struct E_Base {
  TNimObject Sup;
E_Base* parent;
NCSTRING name;
NimStringDesc* message;
NimStringDesc* trace;
};
struct esynch1029 {
  E_Base Sup;
};
struct einvalidvalue1053 {
  esynch1029 Sup;
};
typedef NI TY21018[8];
struct tpagedesc38456 {
tpagedesc38456* Next;
NI Key;
TY21018 Bits;
};
struct tbasechunk21036 {
NI Prevsize;
NI Size;
NIM_BOOL Used;
};
struct tsmallchunk21038 {
  tbasechunk21036 Sup;
tsmallchunk21038* Next;
tsmallchunk21038* Prev;
tfreecell21028* Freelist;
NI Free;
NI Acc;
NF Data;
};
struct tllchunk21804 {
NI Size;
NI Acc;
tllchunk21804* Next;
};
struct tbigchunk21040 {
  tbasechunk21036 Sup;
tbigchunk21040* Next;
tbigchunk21040* Prev;
NI Align;
NF Data;
};
struct ttrunk21011 {
ttrunk21011* Next;
NI Key;
TY21018 Bits;
};
typedef tavlnode21808* TY21814[2];
struct tavlnode21808 {
TY21814 Link;
NI Key;
NI Upperbound;
NI Level;
};
struct tfreecell21028 {
tfreecell21028* Next;
NI Zerofield;
};
N_NIMCALL(void, tmtotimeinfo_87044)(struct tm* tm, NIM_BOOL local, ttimeinfo86403* Result);
N_NIMCALL(void, gettzname_86504)(tkeyvaluepair108606* Result);
N_NIMCALL(NimStringDesc*, cstrToNimstr)(NCSTRING str);
N_NIMCALL(void, unsureAsgnRef)(void** dest, void* src);
N_NIMCALL(NimStringDesc*, copyStringRC1)(NimStringDesc* src);
static N_INLINE(void, nimGCunrefNoCycle)(void* p);
static N_INLINE(tcell38448*, usrtocell_41839)(void* usr);
static N_INLINE(void, rtladdzct_43402)(tcell38448* c);
N_NOINLINE(void, addzct_41815)(tcellseq38464* s, tcell38448* c);
N_NIMCALL(NI, gettimezone_86602)(void);
N_NIMCALL(void, genericShallowAssign)(void* dest, void* src, TNimType* mt);
N_NOINLINE(void, chckNil)(void* p);
N_NIMCALL(void, genericReset)(void* dest, TNimType* mt);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* src);
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* a, NimStringDesc* b);
N_NIMCALL(NI, hashString)(NimStringDesc* s);
N_NIMCALL(NimStringDesc*, nimIntToStr)(NI x);
static N_INLINE(void, appendString)(NimStringDesc* dest, NimStringDesc* src);
N_NIMCALL(NimStringDesc*, resizeString)(NimStringDesc* dest, NI addlen);
static N_INLINE(NimStringDesc*, HEX5BHEX5D_74661)(NimStringDesc* s, tslice74668 x);
N_NIMCALL(NimStringDesc*, copyStrLast)(NimStringDesc* s, NI start_67023, NI last);
N_NIMCALL(NimStringDesc*, copyStrLast)(NimStringDesc* s, NI first, NI last);
N_NIMCALL(NimStringDesc*, HEX24_88223)(NU8 day);
static N_INLINE(tslice74668, HEX2EHEX2E_78700)(NI a, NI b);
N_NIMCALL(NimStringDesc*, addChar)(NimStringDesc* s, NIM_CHAR c);
N_NIMCALL(NimStringDesc*, HEX24_88234)(NU8 m);
N_NIMCALL(NimStringDesc*, nsuRepeatChar)(NI count, NIM_CHAR c);
N_NIMCALL(NimStringDesc*, rawNewString)(NI space);
N_NIMCALL(void, insert_76001)(NimStringDesc** x, NimStringDesc* item, NI i);
N_NIMCALL(void*, newObj)(TNimType* typ, NI size);
static N_INLINE(void, asgnRefNoCycle)(void** dest, void* src);
N_NIMCALL(void, raiseException)(E_Base* e, NCSTRING ename);
NIM_CONST TY87050 weekdays_87049 = {((NU8) 6),
((NU8) 0),
((NU8) 1),
((NU8) 2),
((NU8) 3),
((NU8) 4),
((NU8) 5)}
;
STRING_LITERAL(TMP622, "UTC", 3);
STRING_LITERAL(TMP638, "", 0);
STRING_LITERAL(TMP639, "d", 1);
STRING_LITERAL(TMP640, "dd", 2);
STRING_LITERAL(TMP641, "ddd", 3);
STRING_LITERAL(TMP642, "dddd", 4);
STRING_LITERAL(TMP643, "h", 1);
STRING_LITERAL(TMP644, "hh", 2);
STRING_LITERAL(TMP645, "H", 1);
STRING_LITERAL(TMP646, "HH", 2);
STRING_LITERAL(TMP647, "m", 1);
STRING_LITERAL(TMP648, "mm", 2);
STRING_LITERAL(TMP649, "M", 1);
STRING_LITERAL(TMP650, "MM", 2);
STRING_LITERAL(TMP651, "MMM", 3);
STRING_LITERAL(TMP652, "MMMM", 4);
STRING_LITERAL(TMP653, "s", 1);
STRING_LITERAL(TMP654, "ss", 2);
STRING_LITERAL(TMP655, "t", 1);
STRING_LITERAL(TMP656, "tt", 2);
STRING_LITERAL(TMP657, "y", 1);
STRING_LITERAL(TMP658, "yy", 2);
STRING_LITERAL(TMP659, "yyy", 3);
STRING_LITERAL(TMP660, "yyyy", 4);
STRING_LITERAL(TMP661, "yyyyy", 5);
STRING_LITERAL(TMP662, "z", 1);
STRING_LITERAL(TMP663, "zz", 2);
STRING_LITERAL(TMP664, "zzz", 3);
STRING_LITERAL(TMP665, "ZZZ", 3);
STRING_LITERAL(TMP666, "0", 1);
STRING_LITERAL(TMP667, "Monday", 6);
STRING_LITERAL(TMP668, "Tuesday", 7);
STRING_LITERAL(TMP669, "Wednesday", 9);
STRING_LITERAL(TMP670, "Thursday", 8);
STRING_LITERAL(TMP671, "Friday", 6);
STRING_LITERAL(TMP672, "Saturday", 8);
STRING_LITERAL(TMP673, "Sunday", 6);
NIM_CONST TY88228 lookup_88227 = {((NimStringDesc*) &TMP667),
((NimStringDesc*) &TMP668),
((NimStringDesc*) &TMP669),
((NimStringDesc*) &TMP670),
((NimStringDesc*) &TMP671),
((NimStringDesc*) &TMP672),
((NimStringDesc*) &TMP673)}
;
STRING_LITERAL(TMP674, "January", 7);
STRING_LITERAL(TMP675, "February", 8);
STRING_LITERAL(TMP676, "March", 5);
STRING_LITERAL(TMP677, "April", 5);
STRING_LITERAL(TMP678, "May", 3);
STRING_LITERAL(TMP679, "June", 4);
STRING_LITERAL(TMP680, "July", 4);
STRING_LITERAL(TMP681, "August", 6);
STRING_LITERAL(TMP682, "September", 9);
STRING_LITERAL(TMP683, "October", 7);
STRING_LITERAL(TMP684, "November", 8);
STRING_LITERAL(TMP685, "December", 8);
NIM_CONST TY88239 lookup_88238 = {((NimStringDesc*) &TMP674),
((NimStringDesc*) &TMP675),
((NimStringDesc*) &TMP676),
((NimStringDesc*) &TMP677),
((NimStringDesc*) &TMP678),
((NimStringDesc*) &TMP679),
((NimStringDesc*) &TMP680),
((NimStringDesc*) &TMP681),
((NimStringDesc*) &TMP682),
((NimStringDesc*) &TMP683),
((NimStringDesc*) &TMP684),
((NimStringDesc*) &TMP685)}
;
STRING_LITERAL(TMP686, "PM", 2);
STRING_LITERAL(TMP687, "AM", 2);
STRING_LITERAL(TMP688, ":00", 3);
STRING_LITERAL(TMP689, "Invalid format string: ", 23);
extern TNimType NTI1009; /* TObject */
TNimType NTI86403; /* TTimeInfo */
extern TNimType NTI105; /* int */
TNimType NTI86406; /* range 0..61(int) */
TNimType NTI86409; /* range 0..59(int) */
TNimType NTI86411; /* range 0..23(int) */
TNimType NTI86414; /* range 1..31(int) */
TNimType NTI86204; /* TMonth */
TNimType NTI86418; /* range -10000..10000(int) */
TNimType NTI86206; /* TWeekDay */
TNimType NTI86424; /* range 0..365(int) */
extern TNimType NTI133; /* bool */
extern TNimType NTI142; /* string */
extern tgcheap40416 gch_40444;
extern TNimType NTI83830; /* ref EInvalidValue */
extern TNimType NTI1053; /* EInvalidValue */

N_NIMCALL(void, gettzname_86504)(tkeyvaluepair108606* Result) {
	unsureAsgnRef((void**) &(*Result).Field0, cstrToNimstr(tzname[(0)- 0]));
	unsureAsgnRef((void**) &(*Result).Field1, cstrToNimstr(tzname[(1)- 0]));
	goto BeforeRet;
	BeforeRet: ;}
static N_INLINE(tcell38448*, usrtocell_41839)(void* usr) {
	tcell38448* result;
	result = 0;
	result = ((tcell38448*) ((NI)((NU64)(((NI) (usr))) - (NU64)(((NI)sizeof(tcell38448))))));
	return result;
}
static N_INLINE(void, rtladdzct_43402)(tcell38448* c) {
	addzct_41815(&gch_40444.Zct, c);}
static N_INLINE(void, nimGCunrefNoCycle)(void* p) {
	tcell38448* c;
	c = usrtocell_41839(p);
	{
		(*c).Refcount -= 8;
		if (!((NU64)((*c).Refcount) < (NU64)(8))) goto LA3;
		rtladdzct_43402(c);	}	LA3: ;
}
N_NIMCALL(NI, gettimezone_86602)(void) {
	NI result;
	result = 0;
	result = timezone;
	goto BeforeRet;
	BeforeRet: ;	return result;
}
N_NIMCALL(void, tmtotimeinfo_87044)(struct tm* tm, NIM_BOOL local, ttimeinfo86403* Result) {
	ttimeinfo86403 LOC1;
	memset((void*)&LOC1, 0, sizeof(LOC1));
	LOC1.Sup.m_type = (&NTI86403);
	LOC1.Second = ((NI) (((NI) ((*tm).tm_sec))));
	LOC1.Minute = ((NI) (((NI) ((*tm).tm_min))));
	LOC1.Hour = ((NI) (((NI) ((*tm).tm_hour))));
	LOC1.Monthday = ((NI) (((NI) ((*tm).tm_mday))));
	LOC1.Month = ((NU8) ((*tm).tm_mon));
	LOC1.Year = ((NI) ((NI32)((*tm).tm_year + ((NI32) 1900))));
	LOC1.Weekday = weekdays_87049[(((NI) ((*tm).tm_wday)))- 0];
	LOC1.Yearday = ((NI) (((NI) ((*tm).tm_yday))));
	LOC1.Isdst = (((NI32) 0) < (*tm).tm_isdst);
	{
		if (!local) goto LA4;
		{
			tkeyvaluepair108606 LOC10;
			NimStringDesc* LOC11;
			if (!(((NI32) 0) < (*tm).tm_isdst)) goto LA8;
			memset((void*)&LOC10, 0, sizeof(LOC10));
			gettzname_86504(&LOC10);			LOC11 = 0;
			LOC11 = LOC1.Tzname; LOC1.Tzname = copyStringRC1(LOC10.Field1);
			if (LOC11) nimGCunrefNoCycle(LOC11);
		}		goto LA6;
		LA8: ;
		{
			tkeyvaluepair108606 LOC13;
			NimStringDesc* LOC14;
			memset((void*)&LOC13, 0, sizeof(LOC13));
			gettzname_86504(&LOC13);			LOC14 = 0;
			LOC14 = LOC1.Tzname; LOC1.Tzname = copyStringRC1(LOC13.Field0);
			if (LOC14) nimGCunrefNoCycle(LOC14);
		}		LA6: ;
	}	goto LA2;
	LA4: ;
	{
		NimStringDesc* LOC16;
		LOC16 = 0;
		LOC16 = LOC1.Tzname; LOC1.Tzname = copyStringRC1(((NimStringDesc*) &TMP622));
		if (LOC16) nimGCunrefNoCycle(LOC16);
	}	LA2: ;
	{
		if (!local) goto LA19;
		LOC1.Timezone = gettimezone_86602();
	}	goto LA17;
	LA19: ;
	{
		LOC1.Timezone = 0;
	}	LA17: ;
	genericShallowAssign((void*)Result, (void*)&LOC1, (&NTI86403));
}
N_NIMCALL(void, getgmtime_86445)(time_t t, ttimeinfo86403* Result) {
	time_t a;
	struct tm* LOC1;
	a = t;
	LOC1 = 0;
	LOC1 = gmtime(&a);
	chckNil((void*)Result);
	genericReset((void*)Result, (&NTI86403));
	(*Result).Sup.m_type = (&NTI86403);
	tmtotimeinfo_87044(&(*LOC1), NIM_FALSE, Result);}
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* a, NimStringDesc* b) {
	NIM_BOOL result;
	NIM_BOOL LOC11;
	int LOC13;
	result = 0;
	{
		if (!(a == b)) goto LA3;
		result = NIM_TRUE;
		goto BeforeRet;
	}	LA3: ;
	{
		NIM_BOOL LOC7;
		LOC7 = 0;
		LOC7 = (a == NIM_NIL);
		if (LOC7) goto LA8;
		LOC7 = (b == NIM_NIL);
		LA8: ;
		if (!LOC7) goto LA9;
		result = NIM_FALSE;
		goto BeforeRet;
	}	LA9: ;
	LOC11 = 0;
	LOC11 = ((*a).Sup.len == (*b).Sup.len);
	if (!(LOC11)) goto LA12;
	LOC13 = 0;
	LOC13 = memcmp(((NCSTRING) ((*a).data)), ((NCSTRING) ((*b).data)), (NI64)((*a).Sup.len * 1));
	LOC11 = (LOC13 == ((NI32) 0));
	LA12: ;
	result = LOC11;
	goto BeforeRet;
	BeforeRet: ;	return result;
}
static N_INLINE(void, appendString)(NimStringDesc* dest, NimStringDesc* src) {
	memcpy(((NCSTRING) (&(*dest).data[((*dest).Sup.len)- 0])), ((NCSTRING) ((*src).data)), (NI64)((*src).Sup.len + 1));	(*dest).Sup.len += (*src).Sup.len;
}
static N_INLINE(NimStringDesc*, HEX5BHEX5D_74661)(NimStringDesc* s, tslice74668 x) {
	NimStringDesc* result;
	NI LOC1;
	NI LOC7;
	result = 0;
	LOC1 = 0;
	{
		if (!(0 <= x.A)) goto LA4;
		LOC1 = x.A;
	}	goto LA2;
	LA4: ;
	{
		LOC1 = (NI64)(s->Sup.len + x.A);
	}	LA2: ;
	LOC7 = 0;
	{
		if (!(0 <= x.B)) goto LA10;
		LOC7 = x.B;
	}	goto LA8;
	LA10: ;
	{
		LOC7 = (NI64)(s->Sup.len + x.B);
	}	LA8: ;
	result = copyStrLast(s, LOC1, LOC7);
	return result;
}
N_NIMCALL(NimStringDesc*, HEX24_88223)(NU8 day) {
	NimStringDesc* result;
	result = 0;
	result = copyString(lookup_88227[(day)- 0]);
	goto BeforeRet;
	BeforeRet: ;	return result;
}
static N_INLINE(tslice74668, HEX2EHEX2E_78700)(NI a, NI b) {
	tslice74668 result;
	memset((void*)&result, 0, sizeof(result));
	result.A = a;
	result.B = b;
	return result;
}
N_NIMCALL(NimStringDesc*, HEX24_88234)(NU8 m) {
	NimStringDesc* result;
	result = 0;
	result = copyString(lookup_88238[(m)- 0]);
	goto BeforeRet;
	BeforeRet: ;	return result;
}
static N_INLINE(void, asgnRefNoCycle)(void** dest, void* src) {
	{
		tcell38448* c;
		if (!!((src == NIM_NIL))) goto LA3;
		c = usrtocell_41839(src);
		(*c).Refcount += 8;
	}	LA3: ;
	{
		tcell38448* c;
		if (!!(((*dest) == NIM_NIL))) goto LA7;
		c = usrtocell_41839((*dest));
		{
			(*c).Refcount -= 8;
			if (!((NU64)((*c).Refcount) < (NU64)(8))) goto LA11;
			rtladdzct_43402(c);		}		LA11: ;
	}	LA7: ;
	(*dest) = src;
}
N_NIMCALL(NimStringDesc*, format_88245)(ttimeinfo86403* info, NimStringDesc* f) {
	NimStringDesc* result;
	NI i;
	NimStringDesc* currentf;
	result = 0;
	result = copyString(((NimStringDesc*) &TMP638));
	i = 0;
	currentf = copyString(((NimStringDesc*) &TMP638));
	while (1) {
		switch (((NU8)(f->data[i]))) {
		case 32:
		case 45:
		case 47:
		case 58:
		case 39:
		case 0:
		case 40:
		case 41:
		case 91:
		case 93:
		case 44:
		{
			switch (hashString(currentf) & 31) {
			case 0: 
if (eqStrings(currentf, ((NimStringDesc*) &TMP638))) goto LA30;
break;
			case 1: 
if (eqStrings(currentf, ((NimStringDesc*) &TMP648))) goto LA12;
break;
			case 5: 
if (eqStrings(currentf, ((NimStringDesc*) &TMP639))) goto LA3;
break;
			case 6: 
if (eqStrings(currentf, ((NimStringDesc*) &TMP656))) goto LA20;
break;
			case 7: 
if (eqStrings(currentf, ((NimStringDesc*) &TMP665))) goto LA29;
break;
			case 8: 
if (eqStrings(currentf, ((NimStringDesc*) &TMP657))) goto LA21;
break;
			case 10: 
if (eqStrings(currentf, ((NimStringDesc*) &TMP643))) goto LA7;
if (eqStrings(currentf, ((NimStringDesc*) &TMP649))) goto LA13;
if (eqStrings(currentf, ((NimStringDesc*) &TMP650))) goto LA14;
if (eqStrings(currentf, ((NimStringDesc*) &TMP654))) goto LA18;
if (eqStrings(currentf, ((NimStringDesc*) &TMP658))) goto LA22;
break;
			case 12: 
if (eqStrings(currentf, ((NimStringDesc*) &TMP651))) goto LA15;
break;
			case 14: 
if (eqStrings(currentf, ((NimStringDesc*) &TMP664))) goto LA28;
break;
			case 15: 
if (eqStrings(currentf, ((NimStringDesc*) &TMP642))) goto LA6;
if (eqStrings(currentf, ((NimStringDesc*) &TMP655))) goto LA19;
break;
			case 20: 
if (eqStrings(currentf, ((NimStringDesc*) &TMP661))) goto LA25;
break;
			case 21: 
if (eqStrings(currentf, ((NimStringDesc*) &TMP640))) goto LA4;
if (eqStrings(currentf, ((NimStringDesc*) &TMP647))) goto LA11;
break;
			case 22: 
if (eqStrings(currentf, ((NimStringDesc*) &TMP653))) goto LA17;
if (eqStrings(currentf, ((NimStringDesc*) &TMP663))) goto LA27;
break;
			case 24: 
if (eqStrings(currentf, ((NimStringDesc*) &TMP645))) goto LA9;
break;
			case 25: 
if (eqStrings(currentf, ((NimStringDesc*) &TMP646))) goto LA10;
break;
			case 28: 
if (eqStrings(currentf, ((NimStringDesc*) &TMP652))) goto LA16;
break;
			case 29: 
if (eqStrings(currentf, ((NimStringDesc*) &TMP659))) goto LA23;
break;
			case 30: 
if (eqStrings(currentf, ((NimStringDesc*) &TMP662))) goto LA26;
break;
			case 31: 
if (eqStrings(currentf, ((NimStringDesc*) &TMP641))) goto LA5;
if (eqStrings(currentf, ((NimStringDesc*) &TMP644))) goto LA8;
if (eqStrings(currentf, ((NimStringDesc*) &TMP660))) goto LA24;
break;
			}
			goto LA31;
			LA3: ;
			{
				NimStringDesc* LOC34;
				LOC34 = 0;
				LOC34 = nimIntToStr(((NI) ((*info).Monthday)));
				result = resizeString(result, LOC34->Sup.len + 0);
appendString(result, LOC34);
			}			goto LA32;
			LA4: ;
			{
				NimStringDesc* LOC40;
				{
					if (!(((NI) ((*info).Monthday)) < 10)) goto LA38;
					result = resizeString(result, 1);
appendString(result, ((NimStringDesc*) &TMP666));
				}				LA38: ;
				LOC40 = 0;
				LOC40 = nimIntToStr(((NI) ((*info).Monthday)));
				result = resizeString(result, LOC40->Sup.len + 0);
appendString(result, LOC40);
			}			goto LA32;
			LA5: ;
			{
				NimStringDesc* LOC42;
				tslice74668 LOC43;
				NimStringDesc* LOC44;
				LOC42 = 0;
				LOC42 = HEX24_88223((*info).Weekday);
				LOC43 = HEX2EHEX2E_78700(0, 2);
				LOC44 = 0;
				LOC44 = HEX5BHEX5D_74661(LOC42, LOC43);
				result = resizeString(result, LOC44->Sup.len + 0);
appendString(result, LOC44);
			}			goto LA32;
			LA6: ;
			{
				NimStringDesc* LOC46;
				LOC46 = 0;
				LOC46 = HEX24_88223((*info).Weekday);
				result = resizeString(result, LOC46->Sup.len + 0);
appendString(result, LOC46);
			}			goto LA32;
			LA7: ;
			{
				NI LOC48;
				NimStringDesc* LOC54;
				LOC48 = 0;
				{
					if (!(12 < ((NI) ((*info).Hour)))) goto LA51;
					LOC48 = ((NI) ((NI64)(((NI) ((*info).Hour)) - 12)));
				}				goto LA49;
				LA51: ;
				{
					LOC48 = ((NI) ((*info).Hour));
				}				LA49: ;
				LOC54 = 0;
				LOC54 = nimIntToStr(LOC48);
				result = resizeString(result, LOC54->Sup.len + 0);
appendString(result, LOC54);
			}			goto LA32;
			LA8: ;
			{
				NI amerhour;
				NimStringDesc* LOC65;
				{
					if (!(12 < ((NI) ((*info).Hour)))) goto LA58;
					amerhour = ((NI) ((NI64)(((NI) ((*info).Hour)) - 12)));
				}				goto LA56;
				LA58: ;
				{
					amerhour = ((NI) ((*info).Hour));
				}				LA56: ;
				{
					if (!(amerhour < 10)) goto LA63;
					result = addChar(result, 48);
				}				LA63: ;
				LOC65 = 0;
				LOC65 = nimIntToStr(amerhour);
				result = resizeString(result, LOC65->Sup.len + 0);
appendString(result, LOC65);
			}			goto LA32;
			LA9: ;
			{
				NimStringDesc* LOC67;
				LOC67 = 0;
				LOC67 = nimIntToStr(((NI) ((*info).Hour)));
				result = resizeString(result, LOC67->Sup.len + 0);
appendString(result, LOC67);
			}			goto LA32;
			LA10: ;
			{
				NimStringDesc* LOC73;
				{
					if (!(((NI) ((*info).Hour)) < 10)) goto LA71;
					result = addChar(result, 48);
				}				LA71: ;
				LOC73 = 0;
				LOC73 = nimIntToStr(((NI) ((*info).Hour)));
				result = resizeString(result, LOC73->Sup.len + 0);
appendString(result, LOC73);
			}			goto LA32;
			LA11: ;
			{
				NimStringDesc* LOC75;
				LOC75 = 0;
				LOC75 = nimIntToStr(((NI) ((*info).Minute)));
				result = resizeString(result, LOC75->Sup.len + 0);
appendString(result, LOC75);
			}			goto LA32;
			LA12: ;
			{
				NimStringDesc* LOC81;
				{
					if (!(((NI) ((*info).Minute)) < 10)) goto LA79;
					result = addChar(result, 48);
				}				LA79: ;
				LOC81 = 0;
				LOC81 = nimIntToStr(((NI) ((*info).Minute)));
				result = resizeString(result, LOC81->Sup.len + 0);
appendString(result, LOC81);
			}			goto LA32;
			LA13: ;
			{
				NimStringDesc* LOC83;
				LOC83 = 0;
				LOC83 = nimIntToStr((NI64)(((NI) ((*info).Month)) + 1));
				result = resizeString(result, LOC83->Sup.len + 0);
appendString(result, LOC83);
			}			goto LA32;
			LA14: ;
			{
				NimStringDesc* LOC89;
				{
					if (!((*info).Month < ((NU8) 9))) goto LA87;
					result = addChar(result, 48);
				}				LA87: ;
				LOC89 = 0;
				LOC89 = nimIntToStr((NI64)(((NI) ((*info).Month)) + 1));
				result = resizeString(result, LOC89->Sup.len + 0);
appendString(result, LOC89);
			}			goto LA32;
			LA15: ;
			{
				NimStringDesc* LOC91;
				tslice74668 LOC92;
				NimStringDesc* LOC93;
				LOC91 = 0;
				LOC91 = HEX24_88234((*info).Month);
				LOC92 = HEX2EHEX2E_78700(0, 2);
				LOC93 = 0;
				LOC93 = HEX5BHEX5D_74661(LOC91, LOC92);
				result = resizeString(result, LOC93->Sup.len + 0);
appendString(result, LOC93);
			}			goto LA32;
			LA16: ;
			{
				NimStringDesc* LOC95;
				LOC95 = 0;
				LOC95 = HEX24_88234((*info).Month);
				result = resizeString(result, LOC95->Sup.len + 0);
appendString(result, LOC95);
			}			goto LA32;
			LA17: ;
			{
				NimStringDesc* LOC97;
				LOC97 = 0;
				LOC97 = nimIntToStr(((NI) ((*info).Second)));
				result = resizeString(result, LOC97->Sup.len + 0);
appendString(result, LOC97);
			}			goto LA32;
			LA18: ;
			{
				NimStringDesc* LOC103;
				{
					if (!(((NI) ((*info).Second)) < 10)) goto LA101;
					result = addChar(result, 48);
				}				LA101: ;
				LOC103 = 0;
				LOC103 = nimIntToStr(((NI) ((*info).Second)));
				result = resizeString(result, LOC103->Sup.len + 0);
appendString(result, LOC103);
			}			goto LA32;
			LA19: ;
			{
				{
					if (!(12 <= ((NI) ((*info).Hour)))) goto LA107;
					result = addChar(result, 80);
				}				goto LA105;
				LA107: ;
				{
					result = addChar(result, 65);
				}				LA105: ;
			}			goto LA32;
			LA20: ;
			{
				{
					if (!(12 <= ((NI) ((*info).Hour)))) goto LA113;
					result = resizeString(result, 2);
appendString(result, ((NimStringDesc*) &TMP686));
				}				goto LA111;
				LA113: ;
				{
					result = resizeString(result, 2);
appendString(result, ((NimStringDesc*) &TMP687));
				}				LA111: ;
			}			goto LA32;
			LA21: ;
			{
				NI fr;
				NimStringDesc* LOC117;
				NimStringDesc* LOC122;
				NimStringDesc* LOC123;
				tslice74668 LOC124;
				NimStringDesc* LOC125;
				LOC117 = 0;
				LOC117 = nimIntToStr(((NI) ((*info).Year)));
				fr = (NI64)(LOC117->Sup.len - 1);
				{
					if (!(fr < 0)) goto LA120;
					fr = 0;
				}				LA120: ;
				LOC122 = 0;
				LOC122 = nimIntToStr(((NI) ((*info).Year)));
				LOC123 = 0;
				LOC123 = nimIntToStr(((NI) ((*info).Year)));
				LOC124 = HEX2EHEX2E_78700(fr, (NI64)(LOC123->Sup.len - 1));
				LOC125 = 0;
				LOC125 = HEX5BHEX5D_74661(LOC122, LOC124);
				result = resizeString(result, LOC125->Sup.len + 0);
appendString(result, LOC125);
			}			goto LA32;
			LA22: ;
			{
				NI fr;
				NimStringDesc* LOC127;
				NimStringDesc* fyear;
				NimStringDesc* LOC132;
				NimStringDesc* LOC133;
				tslice74668 LOC134;
				LOC127 = 0;
				LOC127 = nimIntToStr(((NI) ((*info).Year)));
				fr = (NI64)(LOC127->Sup.len - 2);
				{
					if (!(fr < 0)) goto LA130;
					fr = 0;
				}				LA130: ;
				LOC132 = 0;
				LOC132 = nimIntToStr(((NI) ((*info).Year)));
				LOC133 = 0;
				LOC133 = nimIntToStr(((NI) ((*info).Year)));
				LOC134 = HEX2EHEX2E_78700(fr, (NI64)(LOC133->Sup.len - 1));
				fyear = HEX5BHEX5D_74661(LOC132, LOC134);
				{
					NimStringDesc* LOC139;
					NimStringDesc* LOC140;
					if (!!((fyear->Sup.len == 2))) goto LA137;
					LOC139 = 0;
					LOC140 = 0;
					LOC140 = nsuRepeatChar((NI64)(2 - fyear->Sup.len), 48);
					LOC139 = rawNewString(LOC140->Sup.len + fyear->Sup.len + 0);
appendString(LOC139, LOC140);
appendString(LOC139, fyear);
					fyear = LOC139;
				}				LA137: ;
				result = resizeString(result, fyear->Sup.len + 0);
appendString(result, fyear);
			}			goto LA32;
			LA23: ;
			{
				NI fr;
				NimStringDesc* LOC142;
				NimStringDesc* fyear;
				NimStringDesc* LOC147;
				NimStringDesc* LOC148;
				tslice74668 LOC149;
				LOC142 = 0;
				LOC142 = nimIntToStr(((NI) ((*info).Year)));
				fr = (NI64)(LOC142->Sup.len - 3);
				{
					if (!(fr < 0)) goto LA145;
					fr = 0;
				}				LA145: ;
				LOC147 = 0;
				LOC147 = nimIntToStr(((NI) ((*info).Year)));
				LOC148 = 0;
				LOC148 = nimIntToStr(((NI) ((*info).Year)));
				LOC149 = HEX2EHEX2E_78700(fr, (NI64)(LOC148->Sup.len - 1));
				fyear = HEX5BHEX5D_74661(LOC147, LOC149);
				{
					NimStringDesc* LOC154;
					NimStringDesc* LOC155;
					if (!!((fyear->Sup.len == 3))) goto LA152;
					LOC154 = 0;
					LOC155 = 0;
					LOC155 = nsuRepeatChar((NI64)(3 - fyear->Sup.len), 48);
					LOC154 = rawNewString(LOC155->Sup.len + fyear->Sup.len + 0);
appendString(LOC154, LOC155);
appendString(LOC154, fyear);
					fyear = LOC154;
				}				LA152: ;
				result = resizeString(result, fyear->Sup.len + 0);
appendString(result, fyear);
			}			goto LA32;
			LA24: ;
			{
				NI fr;
				NimStringDesc* LOC157;
				NimStringDesc* fyear;
				NimStringDesc* LOC162;
				NimStringDesc* LOC163;
				tslice74668 LOC164;
				LOC157 = 0;
				LOC157 = nimIntToStr(((NI) ((*info).Year)));
				fr = (NI64)(LOC157->Sup.len - 4);
				{
					if (!(fr < 0)) goto LA160;
					fr = 0;
				}				LA160: ;
				LOC162 = 0;
				LOC162 = nimIntToStr(((NI) ((*info).Year)));
				LOC163 = 0;
				LOC163 = nimIntToStr(((NI) ((*info).Year)));
				LOC164 = HEX2EHEX2E_78700(fr, (NI64)(LOC163->Sup.len - 1));
				fyear = HEX5BHEX5D_74661(LOC162, LOC164);
				{
					NimStringDesc* LOC169;
					NimStringDesc* LOC170;
					if (!!((fyear->Sup.len == 4))) goto LA167;
					LOC169 = 0;
					LOC170 = 0;
					LOC170 = nsuRepeatChar((NI64)(4 - fyear->Sup.len), 48);
					LOC169 = rawNewString(LOC170->Sup.len + fyear->Sup.len + 0);
appendString(LOC169, LOC170);
appendString(LOC169, fyear);
					fyear = LOC169;
				}				LA167: ;
				result = resizeString(result, fyear->Sup.len + 0);
appendString(result, fyear);
			}			goto LA32;
			LA25: ;
			{
				NI fr;
				NimStringDesc* LOC172;
				NimStringDesc* fyear;
				NimStringDesc* LOC177;
				NimStringDesc* LOC178;
				tslice74668 LOC179;
				LOC172 = 0;
				LOC172 = nimIntToStr(((NI) ((*info).Year)));
				fr = (NI64)(LOC172->Sup.len - 5);
				{
					if (!(fr < 0)) goto LA175;
					fr = 0;
				}				LA175: ;
				LOC177 = 0;
				LOC177 = nimIntToStr(((NI) ((*info).Year)));
				LOC178 = 0;
				LOC178 = nimIntToStr(((NI) ((*info).Year)));
				LOC179 = HEX2EHEX2E_78700(fr, (NI64)(LOC178->Sup.len - 1));
				fyear = HEX5BHEX5D_74661(LOC177, LOC179);
				{
					NimStringDesc* LOC184;
					NimStringDesc* LOC185;
					if (!!((fyear->Sup.len == 5))) goto LA182;
					LOC184 = 0;
					LOC185 = 0;
					LOC185 = nsuRepeatChar((NI64)(5 - fyear->Sup.len), 48);
					LOC184 = rawNewString(LOC185->Sup.len + fyear->Sup.len + 0);
appendString(LOC184, LOC185);
appendString(LOC184, fyear);
					fyear = LOC184;
				}				LA182: ;
				result = resizeString(result, fyear->Sup.len + 0);
appendString(result, fyear);
			}			goto LA32;
			LA26: ;
			{
				NI hrs;
				NimStringDesc* LOC187;
				hrs = (NI64)((NI64)((*info).Timezone / 60) / 60);
				LOC187 = 0;
				LOC187 = nimIntToStr(hrs);
				result = resizeString(result, LOC187->Sup.len + 0);
appendString(result, LOC187);
			}			goto LA32;
			LA27: ;
			{
				NI hrs;
				NimStringDesc* LOC189;
				hrs = (NI64)((NI64)((*info).Timezone / 60) / 60);
				LOC189 = 0;
				LOC189 = nimIntToStr(hrs);
				result = resizeString(result, LOC189->Sup.len + 0);
appendString(result, LOC189);
				{
					NI atindex;
					NimStringDesc* LOC194;
					NI LOC195;
					if (!((NI64)abs(hrs) < 10)) goto LA192;
					LOC194 = 0;
					LOC194 = nimIntToStr(hrs);
					LOC195 = 0;
					{
						if (!(hrs < 0)) goto LA198;
						LOC195 = 1;
					}					goto LA196;
					LA198: ;
					{
						LOC195 = 0;
					}					LA196: ;
					atindex = (NI64)(result->Sup.len - (NI64)(LOC194->Sup.len - LOC195));
					insert_76001(&result, ((NimStringDesc*) &TMP666), atindex);				}				LA192: ;
			}			goto LA32;
			LA28: ;
			{
				NI hrs;
				NimStringDesc* LOC202;
				NimStringDesc* LOC203;
				hrs = (NI64)((NI64)((*info).Timezone / 60) / 60);
				LOC202 = 0;
				LOC203 = 0;
				LOC203 = nimIntToStr(hrs);
				LOC202 = rawNewString(LOC203->Sup.len + 3);
appendString(LOC202, LOC203);
appendString(LOC202, ((NimStringDesc*) &TMP688));
				result = resizeString(result, LOC202->Sup.len + 0);
appendString(result, LOC202);
				{
					NI atindex;
					NimStringDesc* LOC208;
					NimStringDesc* LOC209;
					NI LOC210;
					if (!((NI64)abs(hrs) < 10)) goto LA206;
					LOC208 = 0;
					LOC209 = 0;
					LOC209 = nimIntToStr(hrs);
					LOC208 = rawNewString(LOC209->Sup.len + 3);
appendString(LOC208, LOC209);
appendString(LOC208, ((NimStringDesc*) &TMP688));
					LOC210 = 0;
					{
						if (!(hrs < 0)) goto LA213;
						LOC210 = 1;
					}					goto LA211;
					LA213: ;
					{
						LOC210 = 0;
					}					LA211: ;
					atindex = (NI64)(result->Sup.len - (NI64)(LOC208->Sup.len - LOC210));
					insert_76001(&result, ((NimStringDesc*) &TMP666), atindex);				}				LA206: ;
			}			goto LA32;
			LA29: ;
			{
				result = resizeString(result, (*info).Tzname->Sup.len + 0);
appendString(result, (*info).Tzname);
			}			goto LA32;
			LA30: ;
			{
			}			goto LA32;
			LA31: ;
			{
				einvalidvalue1053* e_88361;
				NimStringDesc* LOC219;
				e_88361 = 0;
				e_88361 = (einvalidvalue1053*) newObj((&NTI83830), sizeof(einvalidvalue1053));
				(*e_88361).Sup.Sup.Sup.m_type = (&NTI1053);
				LOC219 = 0;
				LOC219 = rawNewString(currentf->Sup.len + 23);
appendString(LOC219, ((NimStringDesc*) &TMP689));
appendString(LOC219, currentf);
				asgnRefNoCycle((void**) &(*e_88361).Sup.Sup.message, LOC219);
				raiseException((E_Base*)e_88361, "EInvalidValue");
			}			LA32: ;
			currentf = copyString(((NimStringDesc*) &TMP638));
			{
				if (!((NU8)(f->data[i]) == (NU8)(0))) goto LA222;
				goto LA1;
			}			LA222: ;
			{
				if (!((NU8)(f->data[i]) == (NU8)(39))) goto LA226;
				i += 1;
				while (1) {
					NIM_BOOL LOC229;
					LOC229 = 0;
					LOC229 = !(((NU8)(f->data[i]) == (NU8)(39)));
					if (!(LOC229)) goto LA230;
					LOC229 = (i < (NI64)(f->Sup.len - 1));
					LA230: ;
					if (!LOC229) goto LA228;
					result = addChar(result, f->data[i]);
					i += 1;
				} LA228: ;
			}			goto LA224;
			LA226: ;
			{
				result = addChar(result, f->data[i]);
			}			LA224: ;
		}		break;
		default:
		{
			currentf = addChar(currentf, f->data[i]);
		}		break;
		}
		i += 1;
	} LA1: ;
	return result;
}N_NOINLINE(void, puretimesInit)(void) {
}

N_NOINLINE(void, puretimesDatInit)(void) {
static TNimNode* TMP615[11];
static TNimNode* TMP616[12];
NI TMP618;
static char* NIM_CONST TMP617[12] = {
"mJan", 
"mFeb", 
"mMar", 
"mApr", 
"mMay", 
"mJun", 
"mJul", 
"mAug", 
"mSep", 
"mOct", 
"mNov", 
"mDec"};
static TNimNode* TMP619[7];
NI TMP621;
static char* NIM_CONST TMP620[7] = {
"dMon", 
"dTue", 
"dWed", 
"dThu", 
"dFri", 
"dSat", 
"dSun"};
static TNimNode TMP15[33];
NTI86403.size = sizeof(ttimeinfo86403);
NTI86403.kind = 17;
NTI86403.base = (&NTI1009);
NTI86403.flags = 2;
TMP615[0] = &TMP15[1];
NTI86406.size = sizeof(NI);
NTI86406.kind = 20;
NTI86406.base = (&NTI105);
NTI86406.flags = 3;
TMP15[1].kind = 1;
TMP15[1].offset = offsetof(ttimeinfo86403, Second);
TMP15[1].typ = (&NTI86406);
TMP15[1].name = "second";
TMP615[1] = &TMP15[2];
NTI86409.size = sizeof(NI);
NTI86409.kind = 20;
NTI86409.base = (&NTI105);
NTI86409.flags = 3;
TMP15[2].kind = 1;
TMP15[2].offset = offsetof(ttimeinfo86403, Minute);
TMP15[2].typ = (&NTI86409);
TMP15[2].name = "minute";
TMP615[2] = &TMP15[3];
NTI86411.size = sizeof(NI);
NTI86411.kind = 20;
NTI86411.base = (&NTI105);
NTI86411.flags = 3;
TMP15[3].kind = 1;
TMP15[3].offset = offsetof(ttimeinfo86403, Hour);
TMP15[3].typ = (&NTI86411);
TMP15[3].name = "hour";
TMP615[3] = &TMP15[4];
NTI86414.size = sizeof(NI);
NTI86414.kind = 20;
NTI86414.base = (&NTI105);
NTI86414.flags = 3;
TMP15[4].kind = 1;
TMP15[4].offset = offsetof(ttimeinfo86403, Monthday);
TMP15[4].typ = (&NTI86414);
TMP15[4].name = "monthday";
TMP615[4] = &TMP15[5];
NTI86204.size = sizeof(NU8);
NTI86204.kind = 14;
NTI86204.base = 0;
NTI86204.flags = 3;
for (TMP618 = 0; TMP618 < 12; TMP618++) {
TMP15[TMP618+6].kind = 1;
TMP15[TMP618+6].offset = TMP618;
TMP15[TMP618+6].name = TMP617[TMP618];
TMP616[TMP618] = &TMP15[TMP618+6];
}
TMP15[18].len = 12; TMP15[18].kind = 2; TMP15[18].sons = &TMP616[0];
NTI86204.node = &TMP15[18];
TMP15[5].kind = 1;
TMP15[5].offset = offsetof(ttimeinfo86403, Month);
TMP15[5].typ = (&NTI86204);
TMP15[5].name = "month";
TMP615[5] = &TMP15[19];
NTI86418.size = sizeof(NI);
NTI86418.kind = 20;
NTI86418.base = (&NTI105);
NTI86418.flags = 3;
TMP15[19].kind = 1;
TMP15[19].offset = offsetof(ttimeinfo86403, Year);
TMP15[19].typ = (&NTI86418);
TMP15[19].name = "year";
TMP615[6] = &TMP15[20];
NTI86206.size = sizeof(NU8);
NTI86206.kind = 14;
NTI86206.base = 0;
NTI86206.flags = 3;
for (TMP621 = 0; TMP621 < 7; TMP621++) {
TMP15[TMP621+21].kind = 1;
TMP15[TMP621+21].offset = TMP621;
TMP15[TMP621+21].name = TMP620[TMP621];
TMP619[TMP621] = &TMP15[TMP621+21];
}
TMP15[28].len = 7; TMP15[28].kind = 2; TMP15[28].sons = &TMP619[0];
NTI86206.node = &TMP15[28];
TMP15[20].kind = 1;
TMP15[20].offset = offsetof(ttimeinfo86403, Weekday);
TMP15[20].typ = (&NTI86206);
TMP15[20].name = "weekday";
TMP615[7] = &TMP15[29];
NTI86424.size = sizeof(NI);
NTI86424.kind = 20;
NTI86424.base = (&NTI105);
NTI86424.flags = 3;
TMP15[29].kind = 1;
TMP15[29].offset = offsetof(ttimeinfo86403, Yearday);
TMP15[29].typ = (&NTI86424);
TMP15[29].name = "yearday";
TMP615[8] = &TMP15[30];
TMP15[30].kind = 1;
TMP15[30].offset = offsetof(ttimeinfo86403, Isdst);
TMP15[30].typ = (&NTI133);
TMP15[30].name = "isDST";
TMP615[9] = &TMP15[31];
TMP15[31].kind = 1;
TMP15[31].offset = offsetof(ttimeinfo86403, Tzname);
TMP15[31].typ = (&NTI142);
TMP15[31].name = "tzname";
TMP615[10] = &TMP15[32];
TMP15[32].kind = 1;
TMP15[32].offset = offsetof(ttimeinfo86403, Timezone);
TMP15[32].typ = (&NTI105);
TMP15[32].name = "timezone";
TMP15[0].len = 11; TMP15[0].kind = 2; TMP15[0].sons = &TMP615[0];
NTI86403.node = &TMP15[0];
}

